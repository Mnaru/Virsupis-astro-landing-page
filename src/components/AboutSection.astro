---
interface Props {
  heading?: string;
  description?: string;
}

const {
  heading = "Mindaugas Plisas: pastatyti namą ir sukurti namus — dvi radikaliai skirtingos ambicijos",
  description = `„Kai pradedi namus vertinti pagal tualetų skaičių — jau lauk bėdos", sako Mindaugas Plisas, Viršupio projekto autorius. Anot jo, tobuli namai nėra tie, kurie uždaro gyventojus išpuoselėtoje pilaitėje, atriboję nuo kaimynų ir supančio pasaulio. Namai turi kurti ryšį, o ne izoliuoti. Apie tai ir kalbamės toliau.`
} = Astro.props;
---

<section id="apie" class="about-section">
  <div class="about-content">
    <h2 class="about-heading">{heading}</h2>
    <p class="about-description">{description}</p>
  </div>

</section>

<style>
  .about-section {
    position: relative;
    z-index: 2;
    background-color: var(--color-white, #f8f4ee);
    padding: 200px 24px 150px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .about-content {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 32px;
    max-width: 650px;
    width: 100%;
  }

  .about-heading {
    font-family: "General Sans", sans-serif;
    font-weight: 500;
    font-size: 43px;
    line-height: 1.1;
    color: var(--color-black, #161514);
    margin: 0;
  }

  .about-description {
    font-family: "General Sans", sans-serif;
    font-weight: 400;
    font-size: 22px;
    line-height: 1.2;
    color: var(--color-black, #161514);
    margin: 0;
  }

  /* Initial state for fade-in animation */
  .about-heading,
  .about-description {
    opacity: 0;
  }

  /* Mobile responsive */
  @media (max-width: 768px) {
    .about-section {
      padding: 120px 16px;
    }

    .about-content {
      gap: 24px;
    }

    .about-heading {
      font-size: 28px;
    }

    .about-description {
      font-size: 18px;
    }
  }
</style>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  const aboutHeading = document.querySelector('.about-heading');
  const aboutDescription = document.querySelector('.about-description');

  if (aboutHeading && aboutDescription) {
    // Set initial state - hidden with larger y offset for luxury feel
    gsap.set([aboutHeading, aboutDescription], { opacity: 0, y: 30 });

    // Create a timeline for staggered animation
    const tl = gsap.timeline({
      scrollTrigger: {
        trigger: '.about-content',
        start: 'top 85%',
        toggleActions: 'play none none none',
      }
    });

    // Heading: elegant slide-up with longer duration
    tl.to(aboutHeading, {
      opacity: 1,
      y: 0,
      duration: 1,
      ease: 'power3.out',
    });

    // Description: follows with deliberate delay
    tl.to(aboutDescription, {
      opacity: 1,
      y: 0,
      duration: 1,
      ease: 'power3.out',
    }, '-=0.8');
  }

</script>
